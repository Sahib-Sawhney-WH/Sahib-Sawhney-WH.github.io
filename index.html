<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GHSP RFQ Automation - Technical Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Custom RSM Colors */
            --rsm-gray: #4A5568;
            --rsm-green: #68B342;
            --rsm-blue: #3280B4;
        }
        .rsm-bg-gray { background-color: var(--rsm-gray); }
        .rsm-bg-green { background-color: var(--rsm-green); }
        .rsm-bg-blue { background-color: var(--rsm-blue); }
        .rsm-text-gray { color: var(--rsm-gray); }
        .rsm-text-green { color: var(--rsm-green); }
        .rsm-text-blue { color: var(--rsm-blue); }
        .rsm-border-gray { border-color: var(--rsm-gray); }
        .rsm-border-green { border-color: var(--rsm-green); }
        .rsm-border-blue { border-color: var(--rsm-blue); }
        .section-title {
            @apply text-3xl font-bold rsm-text-gray mb-6 pb-2 border-b-2 rsm-border-blue;
        }
        .card {
            @apply bg-white rounded-lg shadow-lg p-6 mb-8;
        }
        .diagram-box {
            @apply border-2 rsm-border-gray rounded-lg p-4 text-center bg-gray-50 shadow-sm;
        }
        .diagram-arrow {
            @apply text-2xl rsm-text-blue font-bold my-2;
        }
        pre {
            @apply bg-gray-800 text-white p-4 rounded-lg overflow-x-auto text-sm;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <!-- RSM Logo -->
                <div class="flex items-center space-x-1">
                    <div class="w-3 h-6 rsm-bg-gray rounded-sm"></div>
                    <div class="w-3 h-6 rsm-bg-green rounded-sm"></div>
                    <div class="w-12 h-6 rsm-bg-blue rounded-sm"></div>
                </div>
                <span class="rsm-text-gray text-2xl font-bold">RSM</span>
            </div>
            <h1 class="hidden md:block text-xl md:text-2xl font-semibold rsm-text-gray text-right">GHSP RFQ Automation <br><span class="text-lg font-medium rsm-text-blue">Technical Architecture</span></h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">
        
        <!-- System Overview -->
        <section id="overview" class="card">
            <h2 class="section-title">System Overview</h2>
            <p class="text-gray-700 leading-relaxed">
                The GHSP RFQ Automation system is a modern, serverless, event-driven architecture designed to efficiently process Request for Quote (RFQ) documents from automotive manufacturers. The system harnesses the power of Azure Functions for scalable compute, the Microsoft Agent Framework for sophisticated AI orchestration, and cutting-edge models from OpenAI/Azure OpenAI for intelligent document analysis and data extraction.
            </p>
        </section>

        <!-- High-Level Architecture -->
        <section id="high-level-arch" class="card">
            <h2 class="section-title">High-Level Architecture</h2>
            <div class="flex flex-col items-center">
                <div class="diagram-box w-full max-w-4xl">
                    <h3 class="font-semibold text-lg rsm-text-gray mb-4">Input Sources</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-white p-3 rounded-md border">Email Attachment</div>
                        <div class="bg-white p-3 rounded-md border">Web Upload</div>
                        <div class="bg-white p-3 rounded-md border">API Call</div>
                        <div class="bg-white p-3 rounded-md border">Manual Upload</div>
                    </div>
                </div>
                <div class="diagram-arrow">↓</div>
                <div class="diagram-box w-full max-w-4xl">
                    <h3 class="font-semibold text-lg rsm-text-gray mb-4">Azure Function App (HTTP Triggered)</h3>
                    <div class="space-y-4 text-left">
                        <div class="bg-blue-50 p-3 rounded-md border rsm-border-blue"><b>ProcessRFQ:</b> Receives file, returns PowerPoint presentation.</div>
                        <div class="bg-blue-50 p-3 rounded-md border rsm-border-blue"><b>GetAnalysisOnly:</b> Receives file, returns JSON analysis.</div>
                    </div>
                </div>
                <div class="diagram-arrow">↓</div>
                <div class="diagram-box w-full max-w-4xl">
                    <h3 class="font-semibold text-lg rsm-text-gray">RFQ Automation Orchestrator</h3>
                    <p class="text-sm text-gray-600">Coordinates all processing steps, handles errors, and manages resources.</p>
                </div>
                <div class="diagram-arrow">↓</div>
                <div class="w-full max-w-4xl grid md:grid-cols-3 gap-4 text-center">
                    <div class="diagram-box">
                        <h4 class="font-semibold rsm-text-green">Document Ingestion</h4>
                        <div class="diagram-arrow">↓</div>
                        <div class="bg-green-50 p-2 rounded border rsm-border-green">Extracted Content</div>
                    </div>
                    <div class="diagram-box">
                        <h4 class="font-semibold rsm-text-green">AI Agent Analysis</h4>
                        <div class="diagram-arrow">↓</div>
                        <div class="bg-green-50 p-2 rounded border rsm-border-green">Structured Analysis</div>
                    </div>
                    <div class="diagram-box">
                        <h4 class="font-semibold rsm-text-green">Template Population</h4>
                        <div class="diagram-arrow">↓</div>
                        <div class="bg-green-50 p-2 rounded border rsm-border-green">PowerPoint Output</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Component Architecture -->
        <section id="components" class="card">
            <h2 class="section-title">Component Architecture</h2>
            <div class="space-y-8">
                <!-- 1. Document Ingestion Service -->
                <div>
                    <h3 class="text-2xl font-semibold rsm-text-blue mb-4">1. Document Ingestion Service</h3>
                    <p class="text-gray-700 mb-4">Handles file uploads and extracts content from various document formats (.docx, .xlsx, .pptx, .pdf). Supports automatic file type detection and recursive extraction from ZIP archives.</p>
                    <h4 class="font-semibold text-lg rsm-text-gray mb-2">Technologies:</h4>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-gray-200 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">python-docx</span>
                        <span class="bg-gray-200 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">openpyxl</span>
                        <span class="bg-gray-200 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">python-pptx</span>
                        <span class="bg-gray-200 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">PyMuPDF</span>
                        <span class="bg-gray-200 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">Pillow</span>
                    </div>
                </div>
                <!-- 2. AI Agent Analysis Service -->
                <div>
                    <h3 class="text-2xl font-semibold rsm-text-blue mb-4">2. AI Agent Analysis Service</h3>
                    <p class="text-gray-700 mb-4">Analyzes the extracted content using an AI agent built with the Microsoft Agent Framework. It leverages domain-specific prompt engineering to produce structured RFQ information in a reliable JSON format.</p>
                     <h4 class="font-semibold text-lg rsm-text-gray mb-2">Extracted Information Structure:</h4>
                    <pre><code class="language-json">{
  "rfq_summary": { ... },
  "specifications": [ ... ],
  "timeline": { ... },
  "quantities": { ... },
  "charts_analysis": [ ... ],
  "special_requirements": [ ... ],
  "confidence_score": 0.95
}</code></pre>
                </div>
                <!-- 3. Template Population Service -->
                <div>
                    <h3 class="text-2xl font-semibold rsm-text-blue mb-4">3. Template Population Service</h3>
                    <p class="text-gray-700 mb-4">Generates a professionally formatted PowerPoint presentation from the structured JSON analysis. This component dynamically creates slides for the title, summary, specifications, timeline, and other key sections of the RFQ.</p>
                    <h4 class="font-semibold text-lg rsm-text-gray mb-2">Key Feature:</h4>
                    <p class="text-gray-700">Utilizes `python-pptx` for robust and flexible PowerPoint generation, allowing for dynamic creation of slides, tables, and insertion of text content based on the AI's analysis.</p>
                </div>
            </div>
        </section>

        <!-- Deployment Architecture -->
        <section id="deployment" class="card">
            <h2 class="section-title">Deployment & Scaling</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold rsm-text-blue mb-4">Azure Resources</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><b>Azure Function App:</b> Python 3.11 runtime on a Consumption or Premium plan.</li>
                        <li><b>Storage Account:</b> For function app code and template storage.</li>
                        <li><b>Application Insights:</b> For comprehensive monitoring, logging, and performance metrics.</li>
                        <li><b>Key Vault:</b> For secure management of API keys and secrets in production.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold rsm-text-blue mb-4">Scaling Strategy</h3>
                    <p class="text-gray-700 mb-2">The serverless nature of Azure Functions provides automatic scaling based on demand.</p>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><b>Consumption Plan:</b> Cost-effective for variable workloads, scales from 0 to N instances automatically.</li>
                        <li><b>Premium Plan:</b> Ideal for consistent, high-performance needs with pre-warmed instances to eliminate cold starts.</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Security Architecture -->
        <section id="security" class="card">
            <h2 class="section-title">Security Architecture</h2>
             <p class="text-gray-700 mb-4">A multi-layered security approach ensures data integrity and protects sensitive information throughout the processing pipeline.</p>
             <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                 <div class="p-4 bg-gray-50 rounded-lg border">
                     <h4 class="font-bold rsm-text-gray">Network Security</h4>
                     <p class="text-sm text-gray-600">HTTPS only, CORS, optional IP restrictions.</p>
                 </div>
                 <div class="p-4 bg-gray-50 rounded-lg border">
                     <h4 class="font-bold rsm-text-gray">Function-Level Security</h4>
                     <p class="text-sm text-gray-600">Azure AD authentication and Managed Identity for secure access.</p>
                 </div>
                 <div class="p-4 bg-gray-50 rounded-lg border">
                     <h4 class="font-bold rsm-text-gray">Data Security</h4>
                     <p class="text-sm text-gray-600">Data is encrypted in transit (TLS 1.2+) and at rest.</p>
                 </div>
                  <div class="p-4 bg-gray-50 rounded-lg border">
                     <h4 class="font-bold rsm-text-gray">Secret Management</h4>
                     <p class="text-sm text-gray-600">Azure Key Vault is used to manage all secrets in production.</p>
                 </div>
             </div>
        </section>

        <!-- Technology Stack -->
        <section id="tech-stack" class="card">
            <h2 class="section-title">Technology Stack Summary</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr>
                            <th class="py-2 px-4 bg-gray-200 font-semibold text-sm rsm-text-gray uppercase rounded-tl-lg">Layer</th>
                            <th class="py-2 px-4 bg-gray-200 font-semibold text-sm rsm-text-gray uppercase">Technology</th>
                            <th class="py-2 px-4 bg-gray-200 font-semibold text-sm rsm-text-gray uppercase rounded-tr-lg">Purpose</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white">
                        <tr class="border-b">
                            <td class="py-3 px-4">Compute</td>
                            <td class="py-3 px-4">Azure Functions</td>
                            <td class="py-3 px-4">Serverless execution</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-3 px-4">AI Framework</td>
                            <td class="py-3 px-4">Microsoft Agent Framework</td>
                            <td class="py-3 px-4">Agent orchestration</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-3 px-4">AI Model</td>
                            <td class="py-3 px-4">Azure Open AI GPT-5</td>
                            <td class="py-3 px-4">Document analysis</td>
                        </tr>
                         <tr class="border-b">
                            <td class="py-3 px-4">Document Processing</td>
                            <td class="py-3 px-4">python-docx, openpyxl, etc.</td>
                            <td class="py-3 px-4">Content extraction</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 rounded-bl-lg">Monitoring</td>
                            <td class="py-3 px-4">Application Insights</td>
                            <td class="py-3 px-4">Observability and logging</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white mt-12">
        <div class="container mx-auto px-6 py-4 text-center text-gray-600">
            &copy; 2025 RSM US LLP. All rights reserved.
        </div>
    </footer>

</body>
</html>
